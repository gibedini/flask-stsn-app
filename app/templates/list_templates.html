{% extends 'base.html' %}
{% block title %}Message templates{% endblock %}
{% block content %}
<h2>Message templates</h2>
<p>Here you may view stored templates for custom messages. Database fields can be referenced
in templates by enclosing them in double curly parentheses 
{{ '{{' }} <em>like this</em> {{ '}}' }}.
<br>
Click <a href="{{ url_for('help_template') }}">here</a> 
for help on templating.
</p>
<a class="btn btn-success mb-3" href="{{ url_for('create_template') }}">New template</a>
<table class="table table-bordered table-sm">
  <thead class="table-light">
    <tr><th>Name</th><th>Description</th><th></th></tr>
  </thead>
  <tbody>
    {% for t in templates %}
      <tr>
        <td>{{ t[1] }}</td>
        <td>{{ t[2] }}</td>
        <td>
        	<a class="btn btn-sm btn-primary" href="{{ url_for('edit_template', template_id=t[0]) }}">Edit</a>
			<a class="btn btn-sm btn-outline-secondary" href="{{ url_for('preview_template', template_id=t[0]) }}">Preview</a>

        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}